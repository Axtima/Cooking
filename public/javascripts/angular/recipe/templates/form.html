<div ng-hide="isLoggedIn()">
    <h3>Vous devez vous <a href="/#/login">identifier</a> ou vous <a href="/#/register">inscrire</a> pour proposer une recette</h3>
</div>
<form ng-submit="addRecipe()" ng-show="isLoggedIn()">

    <div class="alert alert-success" ng-show='successMsg'>
        {{successMsg}}
    </div>
    <div class="alert alert-error" ng-show='errorMsg'>
        {{errorMsg}}
    </div>

    <h3>Ajouter une nouvelle recette</h3>

    <div class="form-group">
        <input type="text"
               class="form-control"
               placeholder="Titre"
               ng-model="recipe.title" />
        
        <div ng-show='recipe.steps'>
            <div class="update-step" ng-repeat="step in recipe.steps">
                <label for="desc{{step.order}}">
                    Etape n°{{step.order}} 
                    <span ng-click="stepDown(step)" class="glyphicon glyphicon-arrow-down"></span>
                    <span ng-click="stepUp(step)" class="glyphicon glyphicon-arrow-up"></span>
                </label><br />
                <textarea style='width: 80%;' id="desc{{step.order}}" ng-model="step.description" rows="5"></textarea>
                
            </div>
        </div>
        <a ng-click="addStep()">Ajouter une étape</a>
    </div>
        
    <button type="submit" class="btn">Valider</button>
</form>